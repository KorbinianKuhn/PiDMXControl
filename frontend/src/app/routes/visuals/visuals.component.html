<ng-container *ngrxLet="video$ as video">
  <div
    *ngrxLet="color$ as color"
    class="relative flex-1 flex justify-center items-center"
    [style.opacity]="video.opacity"
    [ngClass]="video.strobe.classes"
    [style.animation-duration]="video.strobe.duration"
  >
    <video
      [muted]="true"
      [loop]="true"
      (loadedmetadata)="onLoadedMetadata()"
      #videoElement
    ></video>
    @if (color === 'chase') {
    <div
      [style.background-color]="video.color"
      class="absolute inset-0 mix-blend-color"
    ></div>
    }
    <div
      *ngrxLet="text$ as text"
      class="absolute inset-0 flex items-center justify-center"
    >
      <p
        class="text-overlay"
        [style.-webkit-text-stroke]="'2px ' + video.color"
        [style.opacity]="text.opacity"
      >
        {{ text.message }}
      </p>
    </div>
  </div>
</ng-container>
